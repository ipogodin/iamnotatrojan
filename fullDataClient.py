from vidstream import ScreenShareClient
from vidstream import AudioReceiver
from vidstream import AudioSender
from vidstream import StreamingServer

import threading


# ip_address = where the server is running, usually remote
def run_full_client(ip_address):
    video_sender = ScreenShareClient(ip_address, 9999, x_res=1920, y_res=1080)
    tv = threading.Thread(target=video_sender.start_stream)
    tv.start()

    audio_sender = AudioSender(ip_address, 9998)
    ta = threading.Thread(target=audio_sender.start_stream)
    ta.start()

    interrupt_wait()

    video_sender.stop_stream()
    audio_sender.stop_stream()


# ip_address = where to run the server, usually localhost ip
def run_full_server(ip_address):
    video_receiver = StreamingServer(ip_address, 9999)
    tv = threading.Thread(target=video_receiver.start_server())
    tv.start()

    audio_receiver = AudioReceiver(ip_address, 9998)
    ta = threading.Thread(target=audio_receiver.start_server())
    ta.start()

    interrupt_wait()

    audio_receiver.stop_server()
    video_receiver.stop_server()


def interrupt_wait():
    print(ASTANAVITES)
    user_input = input("Enter 'q' or 'АСТАНАВІТЕСЬ': ").lower()
    while user_input not in ['астанавітесь', 'q']:
        user_input = input("Enter command: ").lower()

ASTANAVITES = """
                                                                                                    
                                                                                                    
                                                                                                    
                                  ####%%%%%%%#######%%%#####                                        
                              ***#####%%%%%%%#######%%%%########*                                   
                           ##**#############%%%%%####%%%%%%%%########                               
                        %#######################%%%%%%%%%%%%%%%%%#####                              
                     #################%%%%%%%%%%%%%%%%%%%%%%%%%%%%%######                           
                   **###############%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*#                         
                  **###############%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###*                        
                ***#############%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*                       
               ***############%%%###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###**                     
               **############%%%%####%%%%%%%%%%%%%%%%%%%#############%%###%%##**                    
              **#####################%%%%%%%%%%%%%%%%###********#####%%#######***                   
             **#######################%%%%%%%%%#####****++++++++*****##%######****                  
             *#################################*****+++++===++++++++**#########****                 
             ##%%########*****###************+++++==============+++++***########*++                 
            ##%######*********++++++++==========================++++++***########*++                
            ########*++++++++===================================++++++****########+++               
            #%####**+++==========================-===============++++++***####***#*++               
            ####**++==============================================+++++***#####****+=               
            ###**++=====--------=====================================+++***#####**++==              
            ###**++===------------====--==============================+++***####***+==              
            ##***++===-------------===================================+++++**####**+==              
           ##****++===-------------=================================++++++++****#**+==              
           ##***+++===-----------============---=====================+++++++****#***+=              
           #*****++===-------------===---===-------=========+*##+===+++++++++***##*+==              
           #******+====---------------------------=======+*%@@*++++++++++++++***##*+==              
            ***#**+=====---------======---------=====+%@@@%*+++++++++++=++++++**#**+==              
            ***#**+======-=+#**+===================+*@@#*===++++++++++===+++++***++===              
            **##**+========+++*#%@@@@@%#+====-====+*%*+**##*#+**##**+=====++++***++===              
             *###**================+++**##+==--==++**+**=:+##*++++++=========++++*+===              
              *###*============+*#*##**#**+=----==+++=======++====+=============+#*+=               
               *##*+========+##++####*+++===----==++=============+==============+#*+=               
               +***+=======+*+==+**+========----===============================++**==               
                 ***====================--------==============================+++*+==               
                  +++==---============---------==========-================+===++++==                
                  +====-------===---=--===----=====++++++================+++++++++==                
                   =====-------------==+*+==---====+++++#+++============+++++++++==                 
                    -====----------==+*#===------===+++++#*+++==========+++++++++==                 
                    =======----====++##+======--===+++*+**++++++========+++++++++==                 
                     -============++#*+=+#%#++++++*##*++++==+++++======+++++++++==-                 
                     +===========+++*+==========+**++++++==============+++++++++==                  
                       ==========++++===================================++++++++==                  
                        ========+++++==------===========+++++===========++++++++=                   
                        +=======++++======+***********+=****++==========+++++++++                   
                        ++======++++====+*#*-.:. ......:==*#**++========++++++++++                  
                        +++===========++****===--=+++**++++=============+++++++%@@%@                
                         +++=================++++++++++================++++++++#@@@@@#=             
                          *+==========================================++++++++--=%@@@@%*            
                           *+=====================+++++*+============++++++++-:---#%@@%%#+          
                           #=====================+*****+=========+++++++++++=:----=#%@%%%#=:-       
                           %-=++++==+===========================++++++++++++-----==*%%%%%%@*---     
                          %%+:=+++++==============---==========++++++++++++-:----=+*%@%%%%%%#=---   
                     %%%%%%%%:-=+++++============---==========+++*****+**+-------=+*%@%%%%%%%%#---- 
                 %%%%%%%%%%%@:.-=++++++===================+++++*#*******+--------=+#@@%%%%%%%%%%%+=-
              %%%%%%%%%%%%%%%=:.:-=++++++==========++++++++**##*******+=-------::+#%@%%%%@%%%%%%%%%%
           %%%%%%%%%%%%%%%%%%+:...:-==+++++++++*********************+=---:::--::-*%%%%%%%%%%%%%%%%%%
       %%%%%%%%%%%%%%%%%%%%%%*:.....:-====++++++******************=---::::::::::=%%%%%%@@@@@%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*:........:-===++++***###********+=--:::::::::::::-#%%%%%%@@@@@%%%%%%%@
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*::..........-====+*********+++=-::......:::::::::*%%%%%%%@@@@@%%%%%@@@
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*::.............-==+****++++-:...........::::::::*%%%%%%%%@@@@@%%%%%@@@
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*:::...............:-====-:...............::::.:+@%%%%%%%%@@@@@%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%*::...............:=:::-=-.................::::=@%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#::::..........:=%%%%%####*+-...............::=@%%%%%%%%%%%%%%%%%%%%%%%
"""
